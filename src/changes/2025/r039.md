---
Publish Date: '2025-10-27'
---


# Release 2025_039 (2025-10-27)

## Impact

### 25.05

Machines will reboot to activate a new kernel.


## NixOS 25.05 platform

- nixos/mysql57: add deprecation warning if `mysql57` role is activated, as MySQL 5.7 is end-of-life for 2 years (PL-134105)

- fc.qemu: fix Ceph lock cleanups under some race conditions when shutting
  down VMs internally (FC-48755)

- nixos/mysql: Add new option bufferMemoryPercentage to allow adjusting mem usage (PL-133850)

  Currently, the memory percentage is fixed to 70%. This is too much when there is another service on the host.
  This option allows to customize this

- hardware: introduce a separate sensu check for the underlay network
  interfaces, to allow problems with these interfaces to be monitored
  and alerted upon separately. (PL-134114)

- hardware: fix networking for VMs with routed PUB interfaces. This
  was silently broken due to a previous fix for improving network
  stability. (PL-134136)

- hardware: monitor BGP sessions on underlay links, to allow detection
  of and alerting on conditions which would otherwise cause them to
  fail silently. (PL-133897)

- fc.qemu: add diagnostics for race condition on missing partition devices (PL-134011)

- fc.qemu: add retry logic for migration keepalive pings (PL-134121)

- Increase timeout for nix network connections from 1s to 5s. We used to run with a very low timeout
  to assist with automatic failovers for S3 reachability but are noticing that this
  is too twitchy in real world network scenarios too often and causes noise and alert fatigue.

- Pull upstream NixOS changes, security fixes, and package updates:
    - chromedriver: 141.0.7390.76 -> 141.0.7390.107
    - chromium: 141.0.7390.76 -> 141.0.7390.107
    - firefox: 143.0.4 -> 144.0
    - imagemagick: 7.1.2-5 -> 7.1.2-7
    - keycloak: 26.2.5 -> 26.3.5
    - linuxKernelStable: 6.12.51 -> 6.12.53
    - linuxKernelVerify: 6.12.51 -> 6.12.53
    - mastodon: 4.3.13 -> 4.3.14
    - matrix-synapse: 1.139.2 -> 1.140.0
    - tomcat10: 10.1.47 -> 10.1.48
    - tomcat9: 9.0.110 -> 9.0.111
    - webkitgtk: 2.50.0 -> 2.50.1


## Detailed Changes

- NixOS 25.05: [platform code](https://github.com/flyingcircusio/fc-nixos/compare/160242b0939bc269b95604666191c8803fac6750...d115b68a2aa27645c4930b1f9808d87c236a5a36), [nixpkgs/upstream changes](https://github.com/flyingcircusio/nixpkgs/compare/b2afa861e943dad6df65c7e6434cd2c5deddd268...fde1c651ed75d569ad48fbde762e847b7264257a), [metadata](https://my.flyingcircus.io/releases/metadata/fc-25.05-production/2025_039), [channel url](https://hydra.flyingcircus.io/build/32046062/download/1/nixexprs.tar.xz)


